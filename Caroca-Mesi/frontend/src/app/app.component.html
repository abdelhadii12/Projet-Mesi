<!-- Make the whole page a flex column that fills the screen -->
<div class="min-h-screen flex flex-col">

  <!-- Navbar (stays at the top, full width) -->
  <header class="w-full py-6 bg-white">
    <nav class="container mx-auto px-4 flex items-center justify-between">
      <a routerLink="/" class="text-2xl font-extrabold text-blue-500">
        VOITURES RARES
      </a>
      <div class="hidden md:flex gap-6">
        <a routerLink="/" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
          Accueil
        </a>
        <!-- Show these links only if user is logged in -->
        <ng-container *ngIf="currentUser">
          <a routerLink="/ajouter-voiture" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Ajouter une voiture
          </a>
          <a [routerLink]="['/profil', currentUser.id]" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Mon profil
          </a>
          <!-- Show admin panel only for admin users -->
          <a *ngIf="isAdmin" routerLink="/admin" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Admin Panel
          </a>
          <button (click)="logout()" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Déconnexion
          </button>
        </ng-container>
        <!-- Show these links only if user is not logged in -->
        <ng-container *ngIf="!currentUser">
          <a routerLink="/login" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Connexion
          </a>
          <a routerLink="/signup" class="text-gray-600 hover:text-blue-500 font-medium transition-colors">
            Inscription
          </a>
        </ng-container>
      </div>
      <button
        id="menu-button"
        class="md:hidden text-gray-600 hover:text-blue-500 focus:outline-none"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
      </button>
    </nav>
  </header>

  <!-- Main content (grows to fill space) -->
  <main class="flex-1 mx-auto px-4 w-full">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer (sticks to bottom, full width) -->
  <footer class="py-6 bg-gray-800 text-center text-white w-full">
    <p>&copy; 2025 E-commerce de Voitures. Tous droits réservés.</p>
  </footer>
</div>

<!-- Menu mobile -->
<div
  id="menu"
  class="hidden md:hidden fixed inset-0 bg-gray-800 text-white flex flex-col items-center pt-20"
>
  <a routerLink="/" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
    Accueil
  </a>
  <!-- Show these links only if user is logged in -->
  <ng-container *ngIf="currentUser">
    <a routerLink="/ajouter-voiture" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Ajouter une voiture
    </a>
    <a [routerLink]="['/profil', currentUser.id]" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Mon profil
    </a>
    <!-- Show admin panel only for admin users -->
    <a *ngIf="isAdmin" routerLink="/admin" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Admin Panel
    </a>
    <button (click)="logout()" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Déconnexion
    </button>
  </ng-container>
  <!-- Show these links only if user is not logged in -->
  <ng-container *ngIf="!currentUser">
    <a routerLink="/login" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Connexion
    </a>
    <a routerLink="/signup" class="px-3 py-2 text-gray-300 hover:text-white mb-4">
      Inscription
    </a>
  </ng-container>
</div>
